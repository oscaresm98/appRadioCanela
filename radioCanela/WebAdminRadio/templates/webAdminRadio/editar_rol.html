{% extends 'webAdminRadio/base_site.html' %}
{% load static %}

{% block page_style %}
{% endblock %}

{% block content %}
{% comment %}
{% if error %}
<div id="componente_modal_info">
    <modal-info v-if="showModal" url_redirect="">
        <h3 slot="header">Error</h3>
        <div slot="body">
            <p>Existen algunos errores en los siguientes campos:</p>
            {% for campo,e in error.items %}
            <h5>{{campo}}</h5>
            {{e}}
            {% endfor %}
        </div>
    </modal-info>
</div>
{% endif %}
{% if success %}
<div id="componente_modal_info">
    <modal-info v-if="showModal" url_redirect="{% url 'webadminradio:asignar_permisos' id_usuario %}">
        <h3 slot="header">Información</h3>
        <p slot="body">{{success}}</p>
    </modal-info>
</div>
{% endif %}
{% endcomment %}
<h2><b>Agregar rol </b></h2>
<form id="addLocutor" action="{% url 'editar_rol' rol.id %}" onsubmit="return validate()" method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <!-- Nombre del rol -->
    <div class="my-3 row align-items-center ">
        <div class="col-2">
            <label for="nombre" class="fs-4 col-sm-1 col-form-label">Nombre</label>
        </div>
        <div class="col-10">
            <input id="nombre" name="nombre" type="text" class="form-control" value="{{ rol.nombre }}"
                oninvalid="this.setCustomValidity('Ingrese un nombre válido')" oninput="this.setCustomValidity('')"
                required>
        </div>
    </div>

    {% for permiso in permisos%}
    <div class="my-4">
        <div class="h4 pb-2 mb-4 text-dark border-bottom border-danger">
            {{permiso.nombre}}
        </div>
        <div class="mx-4 form-check form-check-inline">
            <input 
            {% if permiso.ver == True %} 
            checked
            {% endif%}
             name='{{permiso.nombre}}_ver' class="form-check-input" type="checkbox" id="inlineCheckbox1">
            <label class="form-check-label" for="inlineCheckbox1">Visualizar</label>
        </div>
        <div  class="mx-4 form-check form-check-inline">
            <input 
            {% if permiso.agregar == True %} 
            checked
            {% endif%}
             name="{{permiso.nombre}}_agregar" class="form-check-input" type="checkbox" id="inlineCheckbox2">
            <label class="form-check-label" for="inlineCheckbox2">Agregar</label>
        </div>
        <div class="mx-4 form-check form-check-inline">
            <input
            {% if permiso.actualizar == True %} 
            checked
            {% endif%}
            name="{{permiso.nombre}}_actualizar" class="form-check-input" type="checkbox" id="inlineCheckbox3" >
            <label class="form-check-label" for="inlineCheckbox3">Actualizar</label>
        </div>
        <div class="mx-4 form-check form-check-inline">
            <input 
            {% if permiso.borrar == True %} 
            checked
            {% endif%}
            name="{{permiso.nombre}}_borrar" class="form-check-input" type="checkbox" id="inlineCheckbox4" >
            <label class="form-check-label" for="inlineCheckbox4">Eliminar</label>
        </div>
    </div>
    {% endfor %}

    <button type="submit" class="btn btn-primary btn-lg submit"><i class="fas fa-plus-circle"></i>Guardar y
        continuar</button>
</form>

{% endblock %}
{% block page_script %}
<script src="{% static 'webAdminRadio/js/img_preview.js' %}"></script>

{% endblock %}